@namespace Uwn.Razor.Components.Bootstrap.Tables
@using Uwn.Razor.Models.ViewModels.Bootstrap.Tables
@inherits UwnComponentBase<TableHeadViewModel>

@if (ViewModel.IsVisible)
{
	<thead id="@ViewModel.Id" class="@ClassNames @ViewModel.AdditionalClassNames">
		@ViewModel.ChildContent
	</thead>
}

@code {
	[Parameter] public RenderFragment? ChildContent { get; set; }
	[CascadingParameter] public TablePurpose Purpose { get; set; }

	protected string ClassNames
	{
		get
		{
			if (IsBootstrapAvailable)
				return Purpose switch
				{
					TablePurpose.Data => "table-dark",
					TablePurpose.Editor => "table-secondary",
					_ => string.Empty,
				};
			else
				return string.Empty;
		}
	}

	protected override TableHeadViewModel BuildViewModelFromParameters()
		=> new()
		{
			ChildContent = ChildContent
		};
}
