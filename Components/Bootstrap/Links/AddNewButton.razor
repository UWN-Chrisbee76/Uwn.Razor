@namespace Uwn.Razor.Components.Bootstrap.Links
@inherits UwnComponentWithRouteBase

@if (IsVisible)
{
	if (IsBootstrapAvailable)
	{
		<a id="@Id" class="btn btn-primary @AdditionalClassNames" href="@RouteWithId">
			@ElementContent
		</a>
	}
	else
	{
		<button id="@Id" class="@AdditionalClassNames" onclick="window.location.href='@RouteWithId'">
			@ElementContent
		</button>
	}
}

@code {
	[Parameter] public string? Text { get; set; }

	protected RenderFragment ElementContent => builder =>
	{
		builder.AddContent(0, BuildFontAwesomeElement("fa-circle-plus"));
		builder.AddMarkupContent(1, "&nbsp;");
		builder.OpenElement(2, "span");
		if (string.IsNullOrEmpty(Text))
			builder.AddContent(3, GetTranslation("AddNewCommand"));
		else
			builder.AddContent(3, Text);
		builder.CloseElement();
	};
}
